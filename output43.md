---
domain: langfuse.com
path: /docs/analytics/posthog
url: https://langfuse.com/docs/analytics/posthog
---

[Join us in Engineering & DevRel →We're hiring. Join us in Product Eng, Backend Eng, and DevRel →](/careers)

[![Langfuse Logo](https://langfuse.com/langfuse_logo_white.svg)![Langfuse Logo](https://langfuse.com/langfuse_logo.svg)](/)
[DocsDocs](/docs)
[PricingPricing](/pricing)
[ChangelogChangelog](/changelog)
[BlogBlog](/blog)

Demo

[Discord](https://discord.langfuse.com)
[](https://x.com/langfuse)
[GitHub](https://github.com/langfuse/langfuse "GitHub Repository")
[Sign Up](https://cloud.langfuse.com)

*   Docs
    
    [Guides](/guides)
    [FAQ](/faq)
    
*   [Overview](/docs)
    
*   [Interactive Demo](/docs/demo)
    
*   Self-host
    
    *   [Local (docker compose)](/docs/deployment/local)
        
    *   [Self-host (docker)](/docs/deployment/self-host)
        
    
*   Tracing
*   [Introduction](/docs/tracing)
    
*   [Quickstart](/docs/get-started)
    
*   Features
    
    *   [Sessions](/docs/tracing-features/sessions)
        
    *   [Users](/docs/tracing-features/users)
        
    *   [Metadata](/docs/tracing-features/metadata)
        
    *   [Tags](/docs/tracing-features/tags)
        
    *   [Trace URL](/docs/tracing-features/url)
        
    *   [Log Levels](/docs/tracing-features/log-levels)
        
    *   [Sampling](/docs/tracing-features/sampling)
        
    
*   SDKs
    
    *   [Overview](/docs/sdk/overview)
        
    *   Python
        
        *   [Decorators](/docs/sdk/python/decorators)
            
        *   [Example Notebook](/docs/sdk/python/example)
            
        *   [Low-level SDK](/docs/sdk/python/low-level-sdk)
            
        *   [Reference ↗ (opens in a new tab)](https://python.reference.langfuse.com)
            
        
    *   JS/TS
        
        *   [Guide](/docs/sdk/typescript/guide)
            
        *   [Guide (Web)](/docs/sdk/typescript/guide-web)
            
        *   [Example (Vercel AI)](/docs/sdk/typescript/example-vercel-ai)
            
        *   [Reference ↗ (opens in a new tab)](https://js.reference.langfuse.com)
            
        
    
*   Integrations
    
    *   [Overview](/docs/integrations/overview)
        
    *   OpenAI SDK
        
        *   Python
            
            *   [Get Started](/docs/integrations/openai/python/get-started)
                
            *   [Track Errors](/docs/integrations/openai/python/track-errors)
                
            *   [Example Notebook](/docs/integrations/openai/python/examples)
                
            *   [Assistants API](/docs/integrations/openai/python/assistants-api)
                
            *   [Structured Outputs](/docs/integrations/openai/python/structured-outputs)
                
            
        *   JS/TS
            
            *   [Get Started](/docs/integrations/openai/js/get-started)
                
            *   [Example Notebook](/docs/integrations/openai/js/examples)
                
            
        
    *   Langchain
        
        *   [Tracing](/docs/integrations/langchain/tracing)
            
        *   [Example Python](/docs/integrations/langchain/example-python)
            
        *   [Example JS](/docs/integrations/langchain/example-javascript)
            
        *   [Example LangGraph](/docs/integrations/langchain/example-python-langgraph)
            
        *   [Example LangServe](/docs/integrations/langchain/example-python-langserve)
            
        *   [Upgrade Paths](/docs/integrations/langchain/upgrade-paths)
            
        
    *   LlamaIndex
        
        *   [Get Started](/docs/integrations/llama-index/get-started)
            
        *   [Example (Python)](/docs/integrations/llama-index/example-python)
            
        
    *   Haystack
        
        *   [Get Started](/docs/integrations/haystack/get-started)
            
        *   [Example (Python)](/docs/integrations/haystack/example-python)
            
        
    *   LiteLLM
        
        *   [Tracing](/docs/integrations/litellm/tracing)
            
        *   [Example Proxy (Python)](/docs/integrations/litellm/example-proxy-python)
            
        *   [Example Proxy (JS/TS)](/docs/integrations/litellm/example-proxy-js)
            
        
    *   [Vercel AI SDK](/docs/integrations/vercel-ai-sdk)
        
    *   [Dify.AI](/docs/integrations/dify)
        
    *   [Instructor](/docs/integrations/instructor)
        
    *   Mirascope
        
        *   [Tracing](/docs/integrations/mirascope/tracing)
            
        *   [Example Notebook](/docs/integrations/mirascope/example-python)
            
        
    *   [Flowise](/docs/integrations/flowise)
        
    *   [Langflow](/docs/integrations/langflow)
        
    
*   [Query Traces](/docs/query-traces)
    
*   Develop
*   Prompt Management
    
    *   [Get Started](/docs/prompts/get-started)
        
    *   [Example OpenAI Functions](/docs/prompts/example-openai-functions)
        
    *   [Example Langchain (Py)](/docs/prompts/example-langchain)
        
    *   [Example Langchain (JS)](/docs/prompts/example-langchain-js)
        
    
*   [Playground](/docs/playground)
    
*   [Fine-tuning](/docs/fine-tuning)
    
*   Monitor
*   Analytics
    
    *   [Overview](/docs/analytics/overview)
        
    *   [PostHog Integration](/docs/analytics/posthog)
        
    *   [Daily Metrics API](/docs/analytics/daily-metrics-api)
        
    
*   [Model Usage & Cost](/docs/model-usage-and-cost)
    
*   Scores & Evaluation
    
    *   [Overview](/docs/scores/overview)
        
    *   [Annotation in UI](/docs/scores/annotation)
        
    *   [User Feedback](/docs/scores/user-feedback)
        
    *   [Model-based Evaluation](/docs/scores/model-based-evals)
        
    *   [Custom via SDKs/API](/docs/scores/custom)
        
    
*   LLM Security
    
    *   [Overview](/docs/security/overview)
        
    *   [Example Python](/docs/security/example-python)
        
    
*   Test
*   [Experimentation](/docs/experimentation)
    
*   Datasets
    
    *   [Overview](/docs/datasets/overview)
        
    *   [Cookbook](/docs/datasets/python-cookbook)
        
    
*   References
*   [API ↗ (opens in a new tab)](https://api.reference.langfuse.com)
    
*   [Python SDK ↗ (opens in a new tab)](https://python.reference.langfuse.com)
    
*   [JS SDK ↗ (opens in a new tab)](https://js.reference.langfuse.com)
    
*   More
*   [Access Control (RBAC)](/docs/rbac)
    
*   [Data Security & Privacy](/docs/data-security-privacy)
    
*   [Open Source](/docs/open-source)
    
*   [Roadmap](/docs/roadmap)
    
*   [Support ↗ (opens in a new tab)](/support)
    

Light

On This Page

*   [Get started](#get-started)
    
*   [Enable the integration](#enable-the-integration)
    
*   [Build a dashboard in PostHog](#build-a-dashboard-in-posthog)
    
*   [Example PostHog Dashboard](#example-posthog-dashboard)
    
*   [Integration details](#details)
    
*   [Metadata matching](#metadata-matching)
    
*   [User properties](#user-properties)
    
*   [Events](#events)
    
*   [Event: langfuse trace](#event-langfuse-trace)
    
*   [Event: langfuse generation](#event-langfuse-generation)
    
*   [Event langfuse score](#event-langfuse-score)
    
*   [Troubleshooting](#troubleshooting)
    

[Question? Give us feedback → (opens in a new tab)](https://github.com/langfuse/langfuse-docs/issues/new?title=Feedback%20for%20%E2%80%9CPostHog%20Integration%E2%80%9D&labels=feedback)
[Edit this page on GitHub](https://github.com/langfuse/langfuse-docs/tree/main/pages/docs/analytics/posthog.mdx)

Availability

*   Hobby
    
    Public Beta
    
*   Pro
    
    Public Beta
    
*   Team
    
    Public Beta
    
*   Self Hosted
    
    Not Available
    

Scroll to top

Docs

Analytics

PostHog Integration

PostHog Integration
===================

Where is this feature available?

*   Hobby
    
    Public Beta
    
*   Pro
    
    Public Beta
    
*   Team
    
    Public Beta
    
*   Self Hosted
    
    Not Available
    

[PostHog (opens in a new tab)](https://posthog.com)
 is a popular choice for OSS product analytics. While Langfuse offers [analytics](/docs/analytics)
 out of the box, many of our users have asked for a way to **integrate their LLM related metrics that they capture with Langfuse into their PostHog dashboards**.

We've built an integration to make it easy to answer questions like:

*   _"Are my most active users also the ones who are most engaged with my LLM content?"_
*   _"Does interacting with the LLM feature relate to higher retention rates?"_
*   _"How does the LLM feature impact my conversion rates?"_
*   _"Does the user feedback that I capture in Langfuse correlate with the user behavior that I see in PostHog?"_

PostHog Integration

Get started[](#get-started)

----------------------------

### Enable the integration[](#enable-the-integration)

Configure this integration in your Langfuse project settings. You will need to provide your PostHog Hostname and API key.

![Posthog Integration Settings](https://langfuse.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fposthog-settings.37c713fd.png&w=1920&q=75)

### Build a dashboard in PostHog[](#build-a-dashboard-in-posthog)

Once integrated, you can build a dashboard in PostHog to visualize your Langfuse metrics (see [reference below](/docs/analytics/posthog#details)
). Use the _AI Metrics_ template to get started with a pre-built dashboard that includes the most common metrics from Langfuse.

![PostHog Dashboard Template](https://langfuse.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fposthog-template.db6ea144.png&w=1080&q=75)

Example PostHog Dashboard[](#example-posthog-dashboard)

--------------------------------------------------------

Integration details[](#details)

--------------------------------

On a daily schedule Langfuse batches aggregated events and metrics to your PostHog instance.

### Metadata matching[](#metadata-matching)

Matching of metadata helps to join the data from Langfuse with the data from PostHog:

| Langfuse | PostHog | Notes |
| --- | --- | --- |
| `user_id` | `$distinct_id` |     |
| `trace.timestamp`, `generation.started_at`, `score.timestamp` | `timestamp` |     |
| `trace.metadata.$posthog_session_id` | `$session_id` | Optional, you need to add the PostHog session id to your Langfuse traces. |

### User properties[](#user-properties)

We send the following user properties via `'$set'`:

*   `langfuse_user_url`: Deeplink to the [user profile](/docs/tracing-features/users)
     in Langfuse.

### Events[](#events)

The integration sends the following events to PostHog.

Is there any additional information that would be helpful? You can request more events or properties [here](/ideas)
.

#### Event: `langfuse trace`[](#event-langfuse-trace)

*   `timestamp`: The time the event occurred.
*   `langfuse_trace_name`: The name of the trace.
*   `langfuse_url`: The URL of the trace.
*   `langfuse_id`: The unique identification of the trace.
*   `langfuse_cost_usd`: The total cost associated with the trace.
*   `langfuse_count_observations`: The number of observations in the trace.
*   `langfuse_session_id`: The session ID related to the event.
*   `langfuse_project_id`: An ID associated with the project related to the event.
*   `langfuse_user_id`: User ID related to the event. If it's null, it's marked as langfuse\_unknown\_user.
*   `langfuse_latency`: The latency of the event.
*   `langfuse_release`: Information relating to the event release.
*   `langfuse_version`: The version of the event.
*   `langfuse_tags`: Any tags associated with the event.
*   `langfuse_integration_version`: The integration version of LangFuse.

#### Event: `langfuse generation`[](#event-langfuse-generation)

*   `timestamp`: The start time of the generation.
*   `langfuse_generation_name`: The name of the generation.
*   `langfuse_trace_name`: Name of the trace related to the generation.
*   `langfuse_url`: The URL of the generation on the host platform.
*   `langfuse_id`: Unique identifier of the generation.
*   `langfuse_cost_usd`: Computed total cost of the generation.
*   `langfuse_input_units`: Number of tokens utilized in prompting the generation.
*   `langfuse_output_units`: Number of tokens produced by the generation.
*   `langfuse_total_units`: Total number of tokens consumed in the generation process.
*   `langfuse_unit`: The units used for the generation (likely tokens).
*   `langfuse_session_id`: The session ID associated with the trace of the generation.
*   `langfuse_project_id`: The project identification where the generation happened.
*   `langfuse_user_id`: The user ID that started the trace linked to the generation. In case it's unavailable, it defaults to `langfuse_unknown_user`.
*   `langfuse_latency`: The observed latency of the generation.
*   `langfuse_time_to_first_token`: The time taken to generate the first token when streaming.
*   `langfuse_release`: Release information of the trace attached with the generation.
*   `langfuse_version`: The versioning info about the generation.
*   `langfuse_model`: The model used during this generation's process.
*   `langfuse_level`: The level associated with the generation.
*   `langfuse_tags`: Any tags attached to the trace of the generation.
*   `langfuse_integration_version`: The integration version with LangFuse.

#### Event `langfuse score`[](#event-langfuse-score)

*   `timestamp`: The time when the score event occurred.
*   `langfuse_score_name`: The name associated with the score.
*   `langfuse_score_value`: The value of the score.
*   `langfuse_score_comment`: Any comments attached with the score.
*   `langfuse_trace_name`: The name of the trace associated with the score.
*   `langfuse_id`: The unique identification of the score.
*   `langfuse_session_id`: The session identification related to the score's trace.
*   `langfuse_project_id`: The project identification linked with the score's trace.
*   `langfuse_user_id`: The user ID that triggered the trace tied with the score. If not available, defaults to `langfuse_unknown_user`.
*   `langfuse_release`: The release information of the trace associated with the score.
*   `langfuse_tags`: Any tags related to the trace of the score.
*   `langfuse_integration_version`: The integration version with LangFuse.

Troubleshooting[](#troubleshooting)

------------------------------------

**Missing data in PostHog?** Please check that you have correctly entered the PostHog hostname and API key in your Langfuse project settings. Also, if you use the PostHog free-tier, please make sure that you have not exceeded the event limits as PostHog drops events when the limit is reached. Reach out to us if you encounter any other issues with the integration.

[Overview](/docs/analytics/overview "Overview")
[Daily Metrics API](/docs/analytics/daily-metrics-api "Daily Metrics API")

### Was this page useful?

YesCould be better

### Questions? We're here to help

[GitHub Q&AGitHub](/gh-support)
Chat [Email](/cdn-cgi/l/email-protection#dfacaaafafb0adab9fb3beb1b8b9aaacbaf1bcb0b2)
[Talk to sales](/schedule-demo)

### Subscribe to updates

Get updates

Light

* * *

Platform

*   [LLM Tracing](/docs/tracing)
    
*   [Prompt Management](/docs/prompts/get-started)
    
*   [Evaluation](/docs/scores/overview)
    
*   [Manual Annotation](/docs/scores/annotation)
    
*   [Datasets](/docs/datasets/overview)
    
*   [Metrics](/docs/analytics)
    
*   [Playground](/docs/playground)
    

Integrations

*   [Python SDK](/docs/sdk/python)
    
*   [JS/TS SDK](/docs/sdk/typescript/guide)
    
*   [OpenAI SDK](/docs/integrations/openai/get-started)
    
*   [Langchain](/docs/integrations/langchain/tracing)
    
*   [Llama-Index](/docs/integrations/llama-index/get-started)
    
*   [Litellm](/docs/integrations/litellm)
    
*   [Dify](/docs/integrations/dify)
    
*   [Flowise](/docs/integrations/flowise)
    
*   [Langflow](/docs/integrations/langflow)
    
*   [Vercel AI SDK](/docs/sdk/typescript/example-vercel-ai)
    
*   [Instructor](/docs/integrations/instructor)
    
*   [Mirascope](/docs/integrations/mirascope)
    
*   [API](https://api.reference.langfuse.com/)
    

Resources

*   [Documentation](/docs)
    
*   [Interactive Demo](/demo)
    
*   [Video demo (3 min)](/video)
    
*   [Changelog](/changelog)
    
*   [Roadmap](/docs/roadmap)
    
*   [Pricing](/pricing)
    
*   [Enterprise](/enterprise)
    
*   [Self-hosting](/docs/deployment/self-host)
    
*   [Open Source](/docs/open-source)
    
*   [Why Langfuse?](/why)
    
*   [Status](https://status.langfuse.com)
    

About

*   [Blog](/blog)
    
*   [Careers](/careers)
    3
*   [About us](/about)
    
*   [Support](/support)
    
*   [Schedule Demo](/schedule-demo)
    
*   [OSS Friends](/oss-friends)
    

Legal

*   [Security](/security)
    
*   [Imprint](/imprint)
    
*   [Terms](/terms)
    
*   [Privacy](/privacy)
    

© 2022-2024 Langfuse GmbH / Finto Technologies Inc.